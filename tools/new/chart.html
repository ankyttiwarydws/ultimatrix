<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chart Maker</title>
  <link rel="icon" type="image/png" href="/assets/img/favicon.png" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h2>CSV Chart Maker</h2>
  <input type="file" id="file"><br><br>
  <canvas id="chart" width="600" height="400"></canvas>

  <script>
    document.getElementById('file').onchange = e=>{
      const file=e.target.files[0];
      const reader=new FileReader();
      reader.onload=()=>{
        const rows=reader.result.trim().split("\n").map(r=>r.split(","));
        const labels=rows[0].slice(1), data=rows.slice(1).map(r=>+r[1]);
        new Chart(document.getElementById('chart'), {
          type:'line',
          data:{ labels:labels, datasets:[{label:'Data', data:data, borderColor:'blue'}] }
        });
      };
      reader.readAsText(file);
    };
  </script>
</body>
</html>
