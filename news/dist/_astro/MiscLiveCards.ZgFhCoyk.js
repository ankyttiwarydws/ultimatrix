import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.BVOCwoKb.js";const b=()=>{const s=t.useRef(null);return t.useEffect(()=>{if(window.TradingView)new window.TradingView.widget({width:"100%",height:250,symbol:"NSE:NIFTY",interval:"D",timezone:"Asia/Kolkata",theme:"light",style:"1",locale:"en",toolbar_bg:"#f1f3f6",enable_publishing:!1,hide_top_toolbar:!0,save_image:!1,container_id:"tradingview_nifty_widget"});else{const r=document.createElement("script");r.src="https://s3.tradingview.com/tv.js",r.async=!0,r.onload=()=>{window.TradingView&&new window.TradingView.widget({width:"100%",height:250,symbol:"NSE:NIFTY",interval:"D",timezone:"Asia/Kolkata",theme:"light",style:"1",locale:"en",toolbar_bg:"#f1f3f6",enable_publishing:!1,hide_top_toolbar:!0,save_image:!1,container_id:"tradingview_nifty_widget"})},document.body.appendChild(r)}},[]),e.jsx("div",{ref:s,id:"tradingview_nifty_widget",style:{width:"100%",height:250}})},x="https://api.open-meteo.com/v1/forecast?latitude=28.61&longitude=77.23&current_weather=true",_="https://api.open-meteo.com/v1/forecast?latitude=19.08&longitude=72.88&current_weather=true",i={miscSection:{margin:0,padding:"0.5rem 0 0 0",display:"flex",flexDirection:"column",gap:"1.2rem"},miscBlock:{borderRadius:14,padding:"1.1rem 1.2rem",fontSize:"0.98rem",fontWeight:500,boxShadow:"0 4px 16px rgba(35, 55, 255, 0.08)",transition:"transform 0.18s, box-shadow 0.18s",cursor:"pointer",willChange:"transform",background:"#fff",color:"#222"},stockBg:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"#fff"},weatherBg:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"#fff"},sportsBg:{background:"linear-gradient(135deg, #fc466b 0%, #3f5efb 100%)",color:"#fff"}};function y(){const[s,r]=t.useState(null),[a,h]=t.useState(null),[c,l]=t.useState(!0),[n,f]=t.useState(null),[o,g]=t.useState(null);return t.useEffect(()=>{async function u(){try{const[d,m]=await Promise.all([fetch(x),fetch(_)]),w=await d.json(),p=await m.json();r(w),h(p),l(!1)}catch{f("Failed to fetch weather"),l(!1)}}u(),g({cricket:"India vs Aus: 250/3 (45)",tennis:"Djokovic d. Nadal 6-4 6-3"})},[]),e.jsxs("section",{className:"misc-section",style:i.miscSection,children:[e.jsxs("div",{className:"misc-block stock-bg",style:{...i.miscBlock,...i.stockBg,minHeight:120},children:[e.jsx("h4",{children:"📈 Stock Market"}),e.jsx(b,{})]}),e.jsxs("div",{className:"misc-block weather-bg",style:{...i.miscBlock,...i.weatherBg},children:[e.jsx("h4",{children:"🌤️ Weather"}),c?e.jsx("div",{children:"Loading..."}):n?e.jsx("div",{style:{color:"#fff"},children:n}):s&&a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Delhi: ",s.current_weather.temperature,"°C, ",s.current_weather.weathercode===0?"Sunny":"Cloudy"]}),e.jsxs("div",{children:["Mumbai: ",a.current_weather.temperature,"°C, ",a.current_weather.weathercode===0?"Sunny":"Cloudy"]})]}):null]}),e.jsxs("div",{className:"misc-block sports-bg",style:{...i.miscBlock,...i.sportsBg},children:[e.jsx("h4",{children:"⚽ Sports"}),c?e.jsx("div",{children:"Loading..."}):n?e.jsx("div",{style:{color:"#fff"},children:n}):o?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:o.cricket}),e.jsx("div",{children:o.tennis})]}):null]})]})}export{y as default};
